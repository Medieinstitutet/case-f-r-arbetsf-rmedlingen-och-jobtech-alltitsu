import{r,c as e,D as d,o,p as s,h as a,B as p,a as g,H as c,g as u}from"./index-11a2f4b2.js";import{r as m}from"./randomIdGenerator.util-17972493-3e0a24fb.js";const b=".digi--util--fs--xs{font-size:var(--digi--global--typography--font-size--small) !important}.digi--util--fs--s{font-size:calc(var(--digi--global--typography--font-size--small) + 1px) !important}.digi--util--fs--m{font-size:var(--digi--global--typography--font-size--base) !important}.digi--util--fs--l{font-size:var(--digi--global--typography--font-size--large) !important}.digi--util--fw--sb{font-weight:var(--digi--global--typography--font-weight--semibold) !important}.digi--util--pt--1{padding-top:var(--digi--global--spacing--smallest-2) !important}.digi--util--pt--10{padding-top:var(--digi--global--spacing--smallest) !important}.digi--util--pt--20{padding-top:var(--digi--global--spacing--base) !important}.digi--util--pt--30{padding-top:var(--digi--global--spacing--largest-2) !important}.digi--util--pt--40{padding-top:var(--digi--global--spacing--largest-4) !important}.digi--util--pt--50{padding-top:2.5rem !important}.digi--util--pt--60{padding-top:var(--digi--global--spacing--largest-5) !important}.digi--util--pt--70{padding-top:var(--digi--global--spacing--largest-6) !important}.digi--util--pt--80{padding-top:4.5rem !important}.digi--util--pt--90{padding-top:5rem !important}.digi--util--pb--1{padding-bottom:var(--digi--global--spacing--smallest-2) !important}.digi--util--pb--10{padding-bottom:var(--digi--global--spacing--smallest) !important}.digi--util--pb--20{padding-bottom:var(--digi--global--spacing--base) !important}.digi--util--pb--30{padding-bottom:var(--digi--global--spacing--largest-2) !important}.digi--util--pb--40{padding-bottom:var(--digi--global--spacing--largest-4) !important}.digi--util--pb--50{padding-bottom:2.5rem !important}.digi--util--pb--60{padding-bottom:var(--digi--global--spacing--largest-5) !important}.digi--util--pb--70{padding-bottom:var(--digi--global--spacing--largest-6) !important}.digi--util--pb--80{padding-bottom:4.5rem !important}.digi--util--pb--90{padding-bottom:5rem !important}.digi--util--p--1{padding:var(--digi--global--spacing--smallest-2) !important}.digi--util--p--10{padding:var(--digi--global--spacing--smallest) !important}.digi--util--p--20{padding:var(--digi--global--spacing--base) !important}.digi--util--p--30{padding:var(--digi--global--spacing--largest-2) !important}.digi--util--p--40{padding:var(--digi--global--spacing--largest-4) !important}.digi--util--p--50{padding:2.5rem !important}.digi--util--p--60{padding:var(--digi--global--spacing--largest-5) !important}.digi--util--p--70{padding:var(--digi--global--spacing--largest-6) !important}.digi--util--p--80{padding:4.5rem !important}.digi--util--p--90{padding:5rem !important}.digi--util--ptb--1{padding-top:var(--digi--global--spacing--smallest-2) !important;padding-bottom:var(--digi--global--spacing--smallest-2) !important}.digi--util--ptb--10{padding-top:var(--digi--global--spacing--smallest) !important;padding-bottom:var(--digi--global--spacing--smallest) !important}.digi--util--ptb--20{padding-top:var(--digi--global--spacing--base) !important;padding-bottom:var(--digi--global--spacing--base) !important}.digi--util--ptb--30{padding-top:var(--digi--global--spacing--largest-2) !important;padding-bottom:var(--digi--global--spacing--largest-2) !important}.digi--util--ptb--40{padding-top:var(--digi--global--spacing--largest-4) !important;padding-bottom:var(--digi--global--spacing--largest-4) !important}.digi--util--ptb--50{padding-top:2.5rem !important;padding-bottom:2.5rem !important}.digi--util--ptb--60{padding-top:var(--digi--global--spacing--largest-5) !important;padding-bottom:var(--digi--global--spacing--largest-5) !important}.digi--util--ptb--70{padding-top:var(--digi--global--spacing--largest-6) !important;padding-bottom:var(--digi--global--spacing--largest-6) !important}.digi--util--ptb--80{padding-top:4.5rem !important;padding-bottom:4.5rem !important}.digi--util--ptb--90{padding-top:5rem !important;padding-bottom:5rem !important}.digi--util--plr--1{padding-left:var(--digi--global--spacing--smallest-2) !important;padding-right:var(--digi--global--spacing--smallest-2) !important}.digi--util--plr--10{padding-left:var(--digi--global--spacing--smallest) !important;padding-right:var(--digi--global--spacing--smallest) !important}.digi--util--plr--20{padding-left:var(--digi--global--spacing--base) !important;padding-right:var(--digi--global--spacing--base) !important}.digi--util--plr--30{padding-left:var(--digi--global--spacing--largest-2) !important;padding-right:var(--digi--global--spacing--largest-2) !important}.digi--util--plr--40{padding-left:var(--digi--global--spacing--largest-4) !important;padding-right:var(--digi--global--spacing--largest-4) !important}.digi--util--plr--50{padding-left:2.5rem !important;padding-right:2.5rem !important}.digi--util--plr--60{padding-left:var(--digi--global--spacing--largest-5) !important;padding-right:var(--digi--global--spacing--largest-5) !important}.digi--util--plr--70{padding-left:var(--digi--global--spacing--largest-6) !important;padding-right:var(--digi--global--spacing--largest-6) !important}.digi--util--plr--80{padding-left:4.5rem !important;padding-right:4.5rem !important}.digi--util--plr--90{padding-left:5rem !important;padding-right:5rem !important}.digi--util--sr-only{border:0;clip:rect(1px, 1px, 1px, 1px);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}:host{--digi--dialog--backdrop--position:fixed;--digi--dialog--backdrop--opacity:1;--digi--dialog--backdrop--z--index:999;--digi--dialog--backdrop--left:0;--digi--dialog--backdrop--top:0;--digi--dialog--backdrop--width:100vw;--digi--dialog--backdrop--height:100vh;--digi--dialog--backdrop--background--color:rgba(0, 0, 0, 0.7);--digi--dialog--backdrop--display:flex;--digi--dialog--backdrop--justify--content:center;--digi--dialog--backdrop--align--items:center;--digi--dialog--close--button--display:grid;--digi--dialog--close--button--justify--content:end;--digi--dialog--close--button--margin--right:-1rem;--digi--dialog--button--container--display:flex;--digi--dialog--button--container--flex-wrap:wrap;--digi--dialog--button--container--gap:var(--digi--gutter--large);--digi--dialog--button--container--padding--top:var(--digi--gutter--largest-2);--digi--dialog--button--text--align--mobile:center;--digi--dialog--content--gutter:var(--digi--gutter--largest);--digi--dialog--content--margin:var(--digi--margin--large) auto;--digi--dialog--content--padding:var(--digi--padding--large);--digi--dialog--content--width--small:28.75rem;--digi--dialog--content--width--medium:42.1875rem;--digi--dialog--content--width--large:56.25rem;--digi--dialog--content--color--primary:var(--digi--global--color--neutral--grayscale--darkest-6);--digi--dialog--content--color--background--primary:var(--digi--global--color--profile--white--base)}:host .digi-dialog{overflow-x:hidden;overflow-y:auto;position:var(--digi--dialog--backdrop--position);opacity:var(--digi--dialog--backdrop--opacity);z-index:var(--digi--dialog--backdrop--z--index);left:var(--digi--dialog--backdrop--left);top:var(--digi--dialog--backdrop--top);width:var(--digi--dialog--backdrop--width);height:var(--digi--dialog--backdrop--height);background-color:var(--digi--dialog--backdrop--background--color);display:var(--digi--dialog--backdrop--display);justify-content:var(--digi--dialog--backdrop--justify--content);align-items:var(--digi--dialog--backdrop--align--items);padding:var(--digi--padding--medium);box-sizing:border-box}:host .digi-dialog--primary{--DIGI--DIALOG--COLOR--BACKGROUND:var(--digi--dialog--content--color--background--primary);--DIGI--DIALOG--COLOR:var(--digi--dialog--content--color--primary);--DIGI--DIALOG--CONTENT--BUTTON--COLOR--BORDER--PRIMARY:initial}:host .digi-dialog--secondary{--digi--dialog--content--color--secondary:var(--digi--global--color--profile--white--base);--digi--dialog--content--color--background--secondary:var(--digi--global--color--profile--blue--base);--DIGI--DIALOG--COLOR--BACKGROUND:var(--digi--dialog--content--color--background--secondary);--DIGI--DIALOG--COLOR:var(--digi--dialog--content--color--secondary);--DIGI--DIALOG--CONTENT--BUTTON--COLOR--BORDER--PRIMARY:#b7b7ff;--digi--color--text--primary:var(--digi--dialog--content--color--secondary)}:host .digi-dialog--small{--DIGI--DIALOG--CONTENT--WIDTH:var(--digi--dialog--content--width--small)}:host .digi-dialog--medium{--DIGI--DIALOG--CONTENT--WIDTH:var(--digi--dialog--content--width--medium)}:host .digi-dialog--large{--DIGI--DIALOG--CONTENT--WIDTH:var(--digi--dialog--content--width--large)}:host .digi-dialog__keydown-handler{width:100%;max-height:100%}:host .digi-dialog__content{background:var(--DIGI--DIALOG--COLOR--BACKGROUND);color:var(--DIGI--DIALOG--COLOR);max-width:var(--DIGI--DIALOG--CONTENT--WIDTH);width:100%;margin:var(--digi--dialog--content--margin);padding:var(--digi--padding--smaller) var(--digi--dialog--content--padding) var(--digi--dialog--content--padding) var(--digi--dialog--content--padding);box-sizing:border-box}:host .digi-dialog__close-button{--digi--button--color--text--function--default:var(--DIGI--DIALOG--COLOR);--digi--button--color--text--function--hover:var(--DIGI--DIALOG--COLOR);display:var(--digi--dialog--close--button--display);justify-content:var(--digi--dialog--close--button--justify--content);margin-right:var(--digi--dialog--close--button--margin--right)}:host .digi-dialog__button-container{display:var(--digi--dialog--button--container--display);flex-wrap:var(--digi--dialog--button--container--flex-wrap);gap:var(--digi--dialog--button--container--gap);padding-top:var(--digi--dialog--button--container--padding--top)}:host .digi-dialog__button-container digi-button,:host .digi-dialog__button-container .digi-button--medium{text-align:var(--digi--dialog--button--text--align--mobile)}:host .digi-dialog__button-container digi-button :first-of-type,:host .digi-dialog__button-container .digi-button--medium :first-of-type{--digi--button--color--border--primary--default:var(--DIGI--DIALOG--CONTENT--BUTTON--COLOR--BORDER--PRIMARY);--digi--button--color--border--primary--hover:var(--DIGI--DIALOG--CONTENT--BUTTON--COLOR--BORDER--PRIMARY)}",h=class{constructor(i){r(this,i),this.afPrimaryButtonClick=e(this,"afPrimaryButtonClick",7),this.afSecondaryButtonClick=e(this,"afSecondaryButtonClick",7),this.afOnClose=e(this,"afOnClose",7),this._focusableElementsSelectors='a, input, select, textarea, button, button:not(hidden), iframe, object, [tabindex="0"]',this.focusableElements=[],this.afId=m("digi-dialog"),this.afVariation=d.PRIMARY,this.afSize=o.MEDIUM,this.afShowDialog=void 0,this.afCloseButtonText="Stäng",this.afHeadingLevel=s.H2,this.afHeading=void 0,this.afPrimaryButtonText=void 0,this.afSecondaryButtonText=void 0,this.afFallbackElementSelector=void 0}primaryClickHandler(i){this.afPrimaryButtonClick.emit(i)}secondaryClickHandler(i){this.afSecondaryButtonClick.emit(i)}escHandler(i){this._closeButton&&this.closeDialog(i)}shiftHandler(i){let t;document.activeElement.tagName==="DIGI-DIALOG"?t=document.activeElement.shadowRoot.activeElement:t=document.activeElement,this.shouldUseFocusTrap?t===this._dialogHeading&&this.closeButtonEl?(i.detail.preventDefault(),this.closeButtonEl.focus()):t===this.firstFocusableEl&&this.closeButtonEl?(i.detail.preventDefault(),this.closeButtonEl.focus()):t===this._dialogHeading&&!this.closeButtonEl?(i.detail.preventDefault(),this.lastFocusableEl.focus()):t===this.firstFocusableEl&&!this.closeButtonEl?(i.detail.preventDefault(),this.lastFocusableEl.focus()):t===this.closeButtonEl&&(i.detail.preventDefault(),this.lastFocusableEl.focus()):i.detail.preventDefault()}tabHandler(i){let t;document.activeElement.tagName==="DIGI-DIALOG"?t=document.activeElement.shadowRoot.activeElement:t=document.activeElement,this.shouldUseFocusTrap?t===this.lastFocusableEl&&this.closeButtonEl?(i.detail.preventDefault(),this.closeButtonEl.focus()):(t===this.closeButtonEl||t===this.lastFocusableEl)&&(i.detail.preventDefault(),this.firstFocusableEl.focus()):i.detail.preventDefault()}onActive(){document.body.style.overflow="hidden",this.afCloseButtonText||(this._wrapper.style.paddingTop="25px"),this._dialogHeading&&(this._dialogHeading.style.marginTop="0"),this.onResize(),setTimeout(()=>{this.setFallback(),this.getFocusableItems(),this.setFocus()},50)}buttonWidthMaxContent(){this._primaryButton&&(this._primaryButton.style.width="max-content",this._primaryButton.querySelector("button").style.width="max-content"),this._secondaryButton&&(this._secondaryButton.style.width="max-content",this._secondaryButton.querySelector("button").style.width="max-content")}buttonWidth100Percent(){this._primaryButton&&(this._primaryButton.style.width="100%",this._primaryButton.querySelector("button").style.width="100%"),this._secondaryButton&&(this._secondaryButton.style.width="100%",this._secondaryButton.querySelector("button").style.width="100%")}onResize(){this.buttonContainerObserver=new ResizeObserver(()=>{this._buttonContainer.clientWidth<=313?this.buttonWidth100Percent():this.buttonWidthMaxContent()}),this.buttonContainerObserver.observe(this._buttonContainer)}onInactive(){let i;i=this.fallbackElement,i&&i.focus(),this.buttonContainerObserver.disconnect(),document.body.style.overflow=""}closeDialog(i){this.afShowDialog=!1,this.afOnClose.emit(i)}setFallback(){this.afFallbackElementSelector&&document.querySelector(this.afFallbackElementSelector)?(this.fallbackElement=document.querySelector(this.afFallbackElementSelector),this.fallbackElement instanceof HTMLHeadingElement&&this.fallbackElement.setAttribute("tabindex","-1")):this.fallbackElement=document.activeElement}setFocus(){if(this.afShowDialog){let i;this.afHeading?(i=this._dialogHeading,this._dialogHeading.style.outline="none"):this.firstFocusableEl?(i=this.firstFocusableEl,i.getAttribute("tabindex")||i.setAttribute("tabindex","0")):this.closeButtonEl?i=this.closeButtonEl:(i=this._wrapper,i.setAttribute("tabindex","0")),i&&i.focus()}}getFocusableItems(){let i;const t=this._host.querySelectorAll(this._focusableElementsSelectors),n=this._wrapper.querySelectorAll(this._focusableElementsSelectors);if(this._closeButton){this.closeButtonEl=this._closeButton.children[0];let l;l=Array.prototype.slice.call(n),l.shift(),i=Array.from(t).concat(Array.from(l))}else i=Array.from(t).concat(Array.from(n));this.focusableElements=i,this.focusableElements.length>0&&(this.firstFocusableEl=this.focusableElements[0],this.lastFocusableEl=this.focusableElements[this.focusableElements.length-1])}componentDidUpdate(){this.afShowDialog?this.onActive():!this.afShowDialog&&this.fallbackElement&&this.onInactive()}get shouldUseFocusTrap(){return this.afShowDialog&&this.focusableElements.length>0}get cssModifiers(){return{"digi-dialog--primary":this.afVariation==d.PRIMARY,"digi-dialog--secondary":this.afVariation==d.SECONDARY,"digi-dialog--small":this.afSize==o.SMALL,"digi-dialog--medium":this.afSize==o.MEDIUM,"digi-dialog--large":this.afSize==o.LARGE}}render(){return a(c,{ref:i=>{this._host=i}},this.afShowDialog&&a("div",{class:Object.assign({"digi-dialog":!0},this.cssModifiers)},a("digi-util-keydown-handler",{onAfOnEsc:i=>this.escHandler(i),onAfOnTab:i=>this.tabHandler(i),onAfOnShiftTab:i=>this.shiftHandler(i),class:"digi-dialog__keydown-handler"},a("div",{ref:i=>{this._wrapper=i},role:"dialog","aria-modal":"true",class:"digi-dialog__content"},a("digi-typography",null,this.afCloseButtonText&&a("digi-button",{ref:i=>this._closeButton=i,class:"digi-dialog__close-button",afAriaLabel:this.afCloseButtonText,afSize:p.MEDIUM,"af-variation":"function",onAfOnClick:i=>this.closeDialog(i)},this.afCloseButtonText,a("digi-icon",{class:"digi-dialog__close-icon",slot:"icon-secondary",afName:"x"})),a("slot",{name:"over-heading"}),this.afHeadingLevel&&this.afHeading&&a(this.afHeadingLevel,{tabindex:"-1",ref:i=>this._dialogHeading=i},this.afHeading),a("slot",null),a("div",{ref:i=>this._buttonContainer=i,class:"digi-dialog__button-container"},this.afSecondaryButtonText&&a("digi-button",{ref:i=>this._secondaryButton=i,afVariation:g.SECONDARY,onAfOnClick:i=>this.secondaryClickHandler(i)},this.afSecondaryButtonText),this.afPrimaryButtonText&&a("digi-button",{ref:i=>this._primaryButton=i,afVariation:g.PRIMARY,onAfOnClick:i=>this.primaryClickHandler(i)},this.afPrimaryButtonText)))))))}get hostElement(){return u(this)}};h.style=b;export{h as digi_dialog};
