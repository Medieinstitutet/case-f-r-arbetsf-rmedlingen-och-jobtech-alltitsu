import{r as n,c as a,y as o,h as r,N as l,T as d,L as f,g}from"./index-945c0d8b.js";import{r as m}from"./randomIdGenerator.util-17972493-3e0a24fb.js";import{l as h}from"./logger.util-9b5aeb0e-eecc5f5e.js";const c=".sc-digi-form-error-list-h{--digi--form-error-list--list--padding:var(--digi--gutter--smaller) 0 0 0;--digi--form-error-list--list--margin:0;--digi--form-error-list--item--padding:var(--digi--padding--smaller) 0 0 0;--digi--form-error-list--item--margin:0}.sc-digi-form-error-list-h .digi-form-error-list__list.sc-digi-form-error-list{list-style:none;padding:var(--digi--form-error-list--list--padding);margin:var(--digi--form-error-list--list--margin)}.sc-digi-form-error-list-h .digi-form-error-list__item.sc-digi-form-error-list{list-style:none;padding:var(--digi--form-error-list--item--padding);margin:var(--digi--form-error-list--item--margin)}",u=class{constructor(i){n(this,i),this.afOnClickLink=a(this,"afOnClickLink",7),this.afOnReady=a(this,"afOnReady",3),this.linkItems=[],this.afHeading=void 0,this.afHeadingLevel=o.H2,this.afDescription=void 0,this.afId=m("digi-form-error-list"),this.afOverrideLink=!1,this.afEnableHeadingFocus=!0}async afMSetHeadingFocus(){this.setHeadingFocus()}componentWillLoad(){this.getLinks()}componentWillUpdate(){this.getLinks(!0)}componentDidLoad(){this.setHeadingFocus(),this.afOnReady.emit()}getLinks(i){let e=this.hostElement.children;if(!e||e.length<=0){h.warn("The slot contains no link elements",this.hostElement);return}let s;i?s=this._observer.children:s=e,this.linkItems=[...s].filter(t=>t.tagName.toLowerCase()==="a").map(t=>({text:t.textContent,href:t.getAttribute("href")||""}))}setHeadingFocus(){this.afEnableHeadingFocus&&setTimeout(async()=>{const i=await this._notificationAlert.afMGetHeadingElement();i&&i.focus()},0)}clickResponse(i){this.afOverrideLink&&i.detail.preventDefault(),this.afOnClickLink.emit(i)}render(){return r("div",{class:"digi-form-error-list",id:this.afId},r("digi-notification-alert",{ref:i=>this._notificationAlert=i,"af-heading":this.afHeading,"af-heading-level":this.afHeadingLevel,"af-variation":l.DANGER},this.afDescription&&r("digi-typography",{"af-variation":d.SMALL},r("p",{class:"digi-form-error-list__description"},this.afDescription)),r("ul",{class:"digi-form-error-list__list"},this.linkItems.map(i=>r("li",{class:"digi-form-error-list__item"},r("digi-link-internal",{class:"digi-form-error-list__link",afVariation:f.SMALL,afHref:i.href},i.text))))),r("div",{hidden:!0,class:"digi-form-error-list__slot"},r("digi-util-mutation-observer",{afOptions:{attributes:!1,childList:!0,subtree:!0,characterData:!0},ref:i=>this._observer=i,onAfOnChange:()=>this.getLinks()},r("slot",null))))}get hostElement(){return g(this)}};u.style=c;export{u as digi_form_error_list};
