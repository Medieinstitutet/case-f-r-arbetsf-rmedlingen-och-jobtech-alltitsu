import{r as f,c as i,I as o,J as r,K as a,b as u,h as e,g as d}from"./index-e970ef30.js";import{r as h}from"./randomIdGenerator.util-17972493-3e0a24fb.js";import{d as c}from"./detectClickOutside.util-2e9cc8d8-d666b039.js";import{d as l}from"./detectFocusOutside.util-93fcba55-e3a25d95.js";import"./detectClosest.util-903e8234-8e14c786.js";const p=".sc-digi-form-input-search-h{--digi--form-input-search--input--border-radius--default:var(--digi--border-radius--input-search);width:100%}.sc-digi-form-input-search-h .digi-form-input-search__input.sc-digi-form-input-search{--digi--form-input--border-radius:var(--digi--form-input-search--input--border-radius--default)}",m=class{constructor(t){f(this,t),this.afOnFocusOutside=i(this,"afOnFocusOutside",7),this.afOnFocusInside=i(this,"afOnFocusInside",7),this.afOnClickOutside=i(this,"afOnClickOutside",7),this.afOnClickInside=i(this,"afOnClickInside",7),this.afOnChange=i(this,"afOnChange",7),this.afOnBlur=i(this,"afOnBlur",7),this.afOnKeyup=i(this,"afOnKeyup",7),this.afOnFocus=i(this,"afOnFocus",7),this.afOnFocusout=i(this,"afOnFocusout",7),this.afOnInput=i(this,"afOnInput",7),this.afOnClick=i(this,"afOnClick",7),this.afOnReady=i(this,"afOnReady",3),this.afLabel=void 0,this.afLabelDescription=void 0,this.afType=o.SEARCH,this.afButtonVariation=r.PRIMARY,this.afName=void 0,this.afId=h("digi-form-input-search"),this.value=void 0,this.afValue=void 0,this.afAutocomplete=void 0,this.afAriaAutocomplete=void 0,this.afAriaActivedescendant=void 0,this.afAriaLabelledby=void 0,this.afAriaDescribedby=void 0,this.afVariation=a.MEDIUM,this.afHideButton=void 0,this.afButtonType=u.SUBMIT,this.afButtonText=void 0,this.afButtonAriaLabel=void 0,this.afButtonAriaLabelledby=void 0,this.afAutofocus=void 0}onValueChanged(t){this.afValue=t}onAfValueChanged(t){this.value=t}async afMGetFormControlElement(){return await this._input.afMGetFormControlElement()}blurHandler(t){this.afOnBlur.emit(t)}changeHandler(t){this.afValue=this.value=t.target.value,this.afOnChange.emit(t)}focusHandler(t){t.stopPropagation(),this.afOnFocus.emit(t)}focusoutHandler(t){this.afOnFocusout.emit(t)}keyupHandler(t){this.afOnKeyup.emit(t)}inputHandler(t){this.afOnInput.emit(t)}clickHandler(t){t.stopPropagation(),this.afOnClick.emit(t)}clickOutsideListener(t){const n=t.target,s=`[data-af-identifier="${this.afId}"]`;c(n,s)?this.afOnClickOutside.emit(t):this.afOnClickInside.emit(t)}focusOutsideListener(t){const n=t.target,s=`[data-af-identifier="${this.afId}"]`;l(n,s)?this.afOnFocusOutside.emit(t):this.afOnFocusInside.emit(t)}componentWillLoad(){this.afValue?this.value=this.afValue:this.afValue=this.value}componentDidLoad(){this.afOnReady.emit()}get cssModifiers(){return{"digi-form-input-search--small":this.afVariation===a.SMALL,"digi-form-input-search--medium":this.afVariation===a.MEDIUM,"digi-form-input-search--large":this.afVariation===a.LARGE}}render(){return e("div",{class:Object.assign({"digi-form-input-search":!0},this.cssModifiers),"data-af-identifier":this.afId},e("digi-form-input",{class:{"digi-form-input-search__input":!0,"digi-form-input-search__input--no-button":this.afHideButton},ref:t=>this._input=t,onAfOnBlur:t=>this.blurHandler(t),onAfOnChange:t=>this.changeHandler(t),onAfOnFocus:t=>this.focusHandler(t),onAfOnFocusout:t=>this.focusoutHandler(t),onAfOnKeyup:t=>this.keyupHandler(t),onAfOnInput:t=>this.inputHandler(t),afLabel:this.afLabel,afLabelDescription:this.afLabelDescription,afAriaActivedescendant:this.afAriaActivedescendant,afAriaDescribedby:this.afAriaDescribedby,afAriaLabelledby:this.afAriaLabelledby,afAriaAutocomplete:this.afAriaAutocomplete,afAutocomplete:this.afAutocomplete,afName:this.afName,afType:this.afType,afValue:this.afValue,afVariation:this.afVariation,afAutofocus:this.afAutofocus?this.afAutofocus:null,afButtonVariation:this.afButtonVariation,afId:this.afId},!this.afHideButton&&e("digi-button",{class:"digi-form-input-search__button",onAfOnClick:t=>this.clickHandler(t),onAfOnFocus:t=>t.stopPropagation(),afType:this.afButtonType,afAriaLabel:this.afButtonAriaLabel,afAriaLabelledby:this.afButtonAriaLabelledby,afSize:this.afVariation,slot:"button"},e("digi-icon",{slot:"icon",afName:"search"}),this.afButtonText)))}get hostElement(){return d(this)}static get watchers(){return{value:["onValueChanged"],afValue:["onAfValueChanged"]}}};m.style=p;export{m as digi_form_input_search};
