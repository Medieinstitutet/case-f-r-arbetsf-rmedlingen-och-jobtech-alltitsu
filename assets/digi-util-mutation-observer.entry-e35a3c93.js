import{r as i,c as r,h as s,g as a}from"./index-3a0576a0.js";import{r as n}from"./randomIdGenerator.util-17972493-3e0a24fb.js";const c=class{constructor(t){i(this,t),this.afOnChange=r(this,"afOnChange",7),this._observer=null,this._isObserving=!1,this.afId=n("digi-util-mutation-observer"),this.afOptions={attributes:!1,childList:!0,subtree:!1,characterData:!1}}afOptionsWatcher(t){this._afOptions=typeof t=="string"?JSON.parse(t):t}componentWillLoad(){this.afOptionsWatcher(this.afOptions),this.initObserver()}disconnectedCallback(){this._isObserving&&this.removeObserver()}initObserver(){this._observer=new MutationObserver(t=>{for(const e of t)(e.type==="childList"||e.type==="attributes"||e.type==="characterData")&&this.changeHandler(e)}),this._observer.observe(this.$el,this._afOptions),this._isObserving=!0}removeObserver(){this._observer.disconnect(),this._isObserving=!1}changeHandler(t){this.afOnChange.emit(t)}render(){s("div",{id:this.afId,ref:t=>this.$el=t},s("slot",null))}get $el(){return a(this)}static get watchers(){return{afOptions:["afOptionsWatcher"]}}};export{c as digi_util_mutation_observer};
