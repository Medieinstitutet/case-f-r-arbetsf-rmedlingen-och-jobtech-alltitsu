import{r as s,l as g,m as a,n as p,h as i,a as t,B as c,g as m}from"./index-e970ef30.js";import{_ as o}from"./text-2fb6c0c4-138bda8d.js";const x=".sc-digi-code-example-h{--digi--code-example--background:var(--digi--color--background--primary);display:block}.digi-code-example.sc-digi-code-example{background-size:20px 20px;background-position:0 0, 0 10px, 10px -10px, -10px 0px;border:var(--digi--border-width--primary) solid var(--digi--color--border--neutral-2);height:100%;display:flex;flex-direction:row;border-radius:0.3rem;position:relative}@media (max-width: 35.9375rem){.digi-code-example.sc-digi-code-example{min-width:360px}}.digi-code-example--light.sc-digi-code-example{background-color:#ffffff;background-image:linear-gradient(45deg, #efefef 25%, transparent 25%), linear-gradient(-45deg, #efefef 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #efefef 75%), linear-gradient(-45deg, transparent 75%, #efefef 75%)}.digi-code-example--dark.sc-digi-code-example{background-color:#999999;background-image:linear-gradient(45deg, #666666 25%, transparent 25%), linear-gradient(-45deg, #666666 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #666666 75%), linear-gradient(-45deg, transparent 75%, #666666 75%)}.digi-code-example__container.sc-digi-code-example{display:flex;flex-direction:column;justify-content:space-between;flex-grow:1;position:relative}.digi-code-example--no-controls.sc-digi-code-example{flex-direction:column}.digi-code-example--no-controls.sc-digi-code-example .digi-code-example__copy-button.sc-digi-code-example{margin-top:0;align-self:flex-end;margin-bottom:0.2rem;z-index:1;position:absolute;bottom:0;right:0}.digi-code-example--no-controls.sc-digi-code-example .digi-code-example__copy-button--dark.sc-digi-code-example{--digi--button--color--text--function--default:var(--digi--color--text--inverted);--digi--button--color--text--function--hover:var(--digi--color--text--inverted)}.digi-code-example__example.sc-digi-code-example{padding:var(--digi--padding--largest-2);overflow-x:auto}@media (max-width: 48rem){.digi-code-example__example.sc-digi-code-example{padding:var(--digi--padding--medium)}}@media (max-width: 35.9375rem){.digi-code-example__example.sc-digi-code-example{padding:var(--digi--padding--small)}}.digi-code-example__copy-button.sc-digi-code-example{align-self:start;margin-top:var(--digi--padding--large);margin-right:var(--digi--padding--small)}.digi-code-example__codeblock.sc-digi-code-example digi-code-block.sc-digi-code-example{--digi--code-block--border-radius:0;--digi--code-block--border:none}.digi-code-example__controls.sc-digi-code-example{padding:var(--digi--padding--medium);background:var(--digi--color--background--neutral-6);display:flex;flex-direction:column;align-self:stretch;flex-shrink:0;justify-content:space-between;gap:var(--digi--gutter--medium)}@media (max-width: 48rem){.digi-code-example__controls.sc-digi-code-example{padding:var(--digi--padding--smaller)}}.digi-code-example__controls[hidden].sc-digi-code-example{display:none}.digi-code-example--inactive.sc-digi-code-example .digi-code-example__code.sc-digi-code-example{display:flex;flex-direction:column;flex-grow:1}.digi-code-example--inactive.sc-digi-code-example .digi-code-example__codeblock.sc-digi-code-example{flex-grow:1;height:64px;overflow-y:hidden;position:relative}.digi-code-example__code-expand.sc-digi-code-example{display:flex;align-items:center;justify-content:center;gap:var(--digi--gutter--icon);width:100%;padding:0.875rem 0;background:#272727;color:var(--digi--color--text--inverted);font-size:var(--digi--typography--body--font-size--desktop);font-family:var(--digi--global--typography--font-family--default);cursor:pointer;border:none}.digi-code-example__code-expand.sc-digi-code-example:hover{background:var(--digi--color--background--inverted-3);text-decoration:underline}.digi-code-example--no-controls.digi-code-example--inactive.sc-digi-code-example .digi-code-example__codeblock.sc-digi-code-example{height:64px}.digi-code-example__copy-button.sc-digi-code-example{--digi--button--padding--small:0;--digi--button--padding--medium:0;--digi--button--padding--large:0}.digi-code-example__code-expand-icon.sc-digi-code-example{--digi--icon--color:var(--digi--color--text--inverted)}.digi-code-example__fade.sc-digi-code-example{position:absolute;width:100%;bottom:0;height:var(--digi--padding--largest-2)}.digi-code-example__fade--light.sc-digi-code-example{background-image:linear-gradient(0deg, white, transparent)}.digi-code-example__fade--dark.sc-digi-code-example{--digi--color--background--inverted-3:#272727;background-image:linear-gradient(0deg, var(--digi--color--background--inverted-3), transparent)}.slot__controls.sc-digi-code-example{margin-bottom:var(--digi--padding--smaller)}.sc-digi-code-example-s .slot__controls{display:flex;flex-direction:column;gap:var(--digi--padding--smaller)}.sc-digi-code-example-s .slot__controls[hidden]{display:none}.sc-digi-code-example-s .slot__controls digi-form-fieldset,.sc-digi-code-example-s .slot__controls digi-form-select,.sc-digi-code-example-s .slot__controls digi-form-fieldset+digi-form-checkbox{display:block;border-bottom:1px solid var(--digi--color--border--neutral-2);padding-bottom:var(--digi--padding--smaller);margin-bottom:var(--digi--padding--medium)}",h=class{constructor(e){s(this,e),this.isActive=!0,this.codeLanguage=void 0,this.hasControls=void 0,this.showMoreButton=void 0,this.containerElement=void 0,this.afCode=void 0,this.afCodeBlockVariation=g.DARK,this.afExampleVariation=a.LIGHT,this.afLanguage=p.HTML,this.afHideControls=void 0,this.afHideCode=void 0}get codeExample(){let e;return typeof this._codeExample=="object"?(this.codeLanguage||(this.codeLanguage=this.codeExampleLanguages[0]),e=this._codeExample[this.codeLanguage]):e=this._codeExample,e}set codeExample(e){try{this._codeExample=JSON.parse(e)}catch{this._codeExample=e}}get codeExampleLanguages(){return typeof this._codeExample=="object"&&Object.keys(this._codeExample)}codeExampleUpdate(){this.codeExample=this.afCode}componentWillLoad(){this.codeExampleUpdate(),this.hasControls=!!this.hostElement.querySelector('[slot="controls"]')||!!this.codeExampleLanguages}componentWillUpdate(){this.hasControls=!!this.hostElement.querySelector('[slot="controls"]')||!!this.codeExampleLanguages}componentDidLoad(){this.updateShowMoreButton()}toggleButtonClickHandler(){this.isActive=!this.isActive}copyButtonClickHandler(){navigator.clipboard.writeText(this.codeExample).then(()=>{},e=>{console.error(e)})}codeLanguageChangeHandler(e){this.codeLanguage=e.target.value,this.codeExampleUpdate()}updateShowMoreButton(){const e=this.containerElement.querySelector(".digi-code-example__codeblock"),d=this.containerElement.querySelector(".digi-code-example__controls > span"),l=this.containerElement.querySelector(".digi-code-example__example");!this._codeHeightObserver&&e&&(this._codeHeightObserver=new ResizeObserver(n=>{const r=this.showMoreButton==null;this.showMoreButton=n[0].target.scrollHeight>=(d?d.scrollHeight-l.scrollHeight+35:64),r&&(this.isActive=!this.showMoreButton)}),this._codeHeightObserver.observe(e))}get cssModifiers(){return{"digi-code-example--active":this.isActive,"digi-code-example--inactive":!this.isActive,[`digi-code-example--hide-controls-${!!this.afHideControls}`]:!0,"digi-code-example--light":this.afExampleVariation===a.LIGHT,"digi-code-example--dark":this.afExampleVariation===a.DARK,"digi-code-example--no-controls":!this.hasControls&&!this.codeExampleLanguages}}capitalize(e){return e.toLowerCase().replace(/\w/,d=>d.toUpperCase())}render(){return i("div",{class:Object.assign({"digi-code-example":!0},this.cssModifiers),ref:e=>this.containerElement=e},i("div",{class:{"digi-code-example__container":!0}},i("div",{class:"digi-code-example__example"},i("slot",null)),!this.afHideCode&&i("div",{class:"digi-code-example__code"},this.showMoreButton&&i("button",{class:"digi-code-example__code-expand","aria-label":this.isActive?o.code.show_less:o.code.show_more,"aria-expanded":this.isActive?"true":"false",onClick:()=>this.toggleButtonClickHandler()},this.isActive?o.code.show_less:o.code.show_more," ",i("digi-icon",{class:{"digi-code-example__code-expand-icon":!0,"digi-code-example__code-expand-icon--open":this.isActive},"aria-hidden":"true",afName:this.isActive?"chevron-up":"chevron-down"})),i("div",{class:{"digi-code-example__codeblock":!0,"digi-code-example__codeblock--light":this.afCodeBlockVariation==="light","digi-code-example__codeblock--dark":this.afCodeBlockVariation==="dark","digi-code-example__codeblock--fade":!this.isActive&&this.showMoreButton}},i("digi-code-block",{afCode:this.codeExample||"",afLanguage:this.afLanguage.toLowerCase(),afVariation:this.afCodeBlockVariation,"af-hide-toolbar":!0}),this.isActive?"":i("div",{class:{"digi-code-example__fade":!0,"digi-code-example__fade--dark":this.afCodeBlockVariation==="dark","digi-code-example__fade--light":this.afCodeBlockVariation==="light"},onClick:()=>this.toggleButtonClickHandler()})))),this.hasControls||this.codeExampleLanguages?i("div",{class:{"digi-code-example__controls":!0},hidden:!!this.afHideControls},i("span",null,i("slot",{name:"controls"}),i("div",{class:"slot__controls"},this.codeExampleLanguages&&i("digi-form-fieldset",{"af-legend":o.code.language,"af-name":"Code Language",onChange:e=>this.codeLanguageChangeHandler(e)},this.codeExampleLanguages.map(e=>i("digi-form-radiobutton",{afName:"Code Language",afChecked:this.codeLanguage===e,afValue:e,afLabel:e}))))),i("digi-button",{class:"digi-code-example__copy-button",onAfOnClick:()=>this.copyButtonClickHandler(),"af-variation":t.FUNCTION,"af-size":c.MEDIUM},i("digi-icon",{class:"digi-code-example__icon","aria-hidden":"true",slot:"icon",afName:"copy"}),o.code.copy)):!this.afHideControls&&i("digi-button",{class:{"digi-code-example__copy-button":!0,"digi-code-example__copy-button--dark":this.afCodeBlockVariation==="dark"},onAfOnClick:()=>this.copyButtonClickHandler(),"af-variation":t.FUNCTION,"af-size":c.MEDIUM},i("digi-icon",{class:"digi-code-example__icon","aria-hidden":"true",slot:"icon",afName:"copy"}),o.code.copy))}get hostElement(){return m(this)}static get watchers(){return{afCode:["codeExampleUpdate"]}}};h.style=x;export{h as digi_code_example};
