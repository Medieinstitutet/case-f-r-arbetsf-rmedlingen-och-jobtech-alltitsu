import{r as a,c as t,R as o,S as r,h as i,g as l}from"./index-55b4449e.js";import{r as d}from"./randomIdGenerator.util-17972493-3e0a24fb.js";import{l as c}from"./logger.util-9b5aeb0e-eecc5f5e.js";const n=".sc-digi-form-select-h{--digi--form-select--background--empty:var(--digi--color--background--input-empty);--digi--form-select--background--neutral:var(--digi--color--background--input);--digi--form-select--background--success:var(--digi--color--background--success-2);--digi--form-select--background--warning:var(--digi--color--background--warning-2);--digi--form-select--background--error:var(--digi--color--background--danger-2);--digi--form-select--border-color--neutral:var(--digi--color--border--neutral-3);--digi--form-select--border-color--success:var(--digi--color--border--success);--digi--form-select--border-color--warning:var(--digi--color--border--neutral-3);--digi--form-select--border-color--error:var(--digi--color--border--danger);--digi--form-select--select-wrapper--position:relative;--digi--form-select--select--height--small:var(--digi--input-height--small);--digi--form-select--select--height--medium:var(--digi--input-height--medium);--digi--form-select--select--height--large:var(--digi--input-height--large);--digi--form-select--select--border-radius:var(--digi--border-radius--input);--digi--form-select--select--padding:0 var(--digi--gutter--medium);--digi--form-select--select--padding--inline-end:var(--digi--padding--large);--digi--form-select--select--border-width--neutral:var(--digi--border-width--input-regular);--digi--form-select--select--border-width--success:var(--digi--border-width--input-validation);--digi--form-select--select--border-width--error:var(--digi--border-width--input-validation);--digi--form-select--select--border-width--warning:var(--digi--border-width--input-validation);--digi--form-select--select--width:100%;--digi--form-select--select--font-size:var(--digi--typography--body--font-size--desktop);--digi--form-select--select-option--font-size:var(--digi--typography--body--font-size--desktop);--digi--form-select--label--margin-bottom:var(--digi--gutter--medium);--digi--form-select--icon--inline-end:0.75rem;--digi--form-select--icon--top:50%;--digi--form-select--icon--transform:translateY(-50%);--digi--form-select--icon--color:var(--digi--color--icons--primary);--digi--form-select--footer--margin-top:var(--digi--gutter--medium)}.sc-digi-form-select-h .digi-form-select.sc-digi-form-select{display:flex;flex-direction:column;gap:0.4em}.sc-digi-form-select-h .digi-form-select--neutral.sc-digi-form-select{--BORDER-WIDTH:var(--digi--form-select--select--border-width--neutral);--BORDER-COLOR:var(--digi--form-select--border-color--neutral);--BACKGROUND:var(--digi--form-select--background--neutral)}.sc-digi-form-select-h .digi-form-select--success.sc-digi-form-select{--BORDER-WIDTH:var(--digi--form-select--select--border-width--success);--BORDER-COLOR:var(--digi--form-select--border-color--success);--BACKGROUND:var(--digi--form-select--background--success)}.sc-digi-form-select-h .digi-form-select--warning.sc-digi-form-select{--BORDER-WIDTH:var(--digi--form-select--select--border-width--warning);--BORDER-COLOR:var(--digi--form-select--border-color--warning);--BACKGROUND:var(--digi--form-select--background--warning)}.sc-digi-form-select-h .digi-form-select--error.sc-digi-form-select{--BORDER-WIDTH:var(--digi--form-select--select--border-width--error);--BORDER-COLOR:var(--digi--form-select--border-color--error);--BACKGROUND:var(--digi--form-select--background--error)}.sc-digi-form-select-h .digi-form-select--small.sc-digi-form-select{--HEIGHT:var(--digi--form-select--select--height--small)}.sc-digi-form-select-h .digi-form-select--medium.sc-digi-form-select{--HEIGHT:var(--digi--form-select--select--height--medium)}.sc-digi-form-select-h .digi-form-select--large.sc-digi-form-select{--HEIGHT:var(--digi--form-select--select--height--large)}.sc-digi-form-select-h .digi-form-select--empty.sc-digi-form-select:not(:focus-within){--BACKGROUND:var(--digi--form-select--background--empty)}.sc-digi-form-select-h .digi-form-select__select.sc-digi-form-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--digi--form-select--select--width);padding:var(--digi--form-select--select--padding);padding-inline-end:var(--digi--form-select--select--padding--inline-end);height:var(--HEIGHT);border:var(--BORDER-WIDTH) solid;border-radius:var(--digi--form-select--select--border-radius);border-color:var(--BORDER-COLOR);cursor:pointer;font-size:var(--digi--form-select--select--font-size);color:var(--digi--color--text--primary);background:var(--BACKGROUND);font-family:var(--digi--global--typography--font-family--default)}.sc-digi-form-select-h .digi-form-select__select-wrapper.sc-digi-form-select{position:var(--digi--form-select--select-wrapper--position)}.sc-digi-form-select-h .digi-form-select__select-option.sc-digi-form-select{font-size:var(--digi--form-select--select-option--font-size)}@media (min-width: 48rem){.sc-digi-form-select-h .digi-form-select__select-option.sc-digi-form-select{--digi--form-select--select-option--font-size:var(--digi--typography--font-size--l)}}.sc-digi-form-select-h .digi-form-select__select.sc-digi-form-select::-ms-expand{display:none}.sc-digi-form-select-h .digi-form-select__select.sc-digi-form-select:focus-visible{box-shadow:0 0 0.1rem 0.05rem var(--digi--color--border--informative);box-shadow:var(--digi--focus-shadow);outline:var(--digi--focus-outline)}.sc-digi-form-select-h .digi-form-select__icon.sc-digi-form-select{position:absolute;inset-inline-end:var(--digi--form-select--icon--inline-end);inset-block-start:var(--digi--form-select--icon--top);transform:var(--digi--form-select--icon--transform);pointer-events:none;color:var(--digi--form-select--icon--color)}.digi-form-select--neutral.sc-digi-form-select .digi-form-select__footer.sc-digi-form-select{position:absolute}",f=class{constructor(e){a(this,e),this.afOnChange=t(this,"afOnChange",7),this.afOnSelect=t(this,"afOnSelect",7),this.afOnFocus=t(this,"afOnFocus",7),this.afOnFocusout=t(this,"afOnFocusout",7),this.afOnBlur=t(this,"afOnBlur",7),this.afOnDirty=t(this,"afOnDirty",7),this.afOnReady=t(this,"afOnReady",3),this.optionItems=[],this.dirty=!1,this.touched=!1,this.hasPlaceholder=!1,this.afLabel=void 0,this.afRequired=void 0,this.afRequiredText=void 0,this.afPlaceholder=void 0,this.afAnnounceIfOptional=!1,this.afAnnounceIfOptionalText=void 0,this.afId=d("digi-form-select"),this.afName=void 0,this.afDescription=void 0,this.value=void 0,this.afValue=void 0,this.afDisableValidation=void 0,this.afVariation=o.MEDIUM,this.afValidation=r.NEUTRAL,this.afValidationText=void 0,this.afStartSelected=void 0,this.afAutofocus=void 0}onValueChanged(e){this.afValue=e}onAfValueChanged(e){this.value=e}getOptions(){this.checkIfPlaceholder();let e=this._observer.children;if(!e||e.length<=0){c.warn("The slot contains no option elements.",this.hostElement);return}this.optionItems=[...Array.from(e)].filter(s=>s.tagName.toLowerCase()==="option").map(s=>({value:s.value,text:s.text}))}checkIfPlaceholder(){this.hasPlaceholder=!!this.afPlaceholder}componentWillLoad(){this.afValue?this.value=this.afValue:this.afValue=this.value}componentDidLoad(){this.getOptions(),this.afStartSelected&&(this.afValue=this.optionItems[this.afStartSelected].value),this.afOnReady.emit()}async afMGetFormControlElement(){return this._select}get cssModifiers(){return{"digi-form-select--small":this.afVariation===o.SMALL,"digi-form-select--medium":this.afVariation===o.MEDIUM,"digi-form-select--large":this.afVariation===o.LARGE,"digi-form-select--neutral":this.afValidation===r.NEUTRAL,"digi-form-select--success":this.afValidation===r.SUCCESS,"digi-form-select--warning":this.afValidation===r.WARNING,"digi-form-select--error":this.afValidation===r.ERROR,"digi-form-select--empty":!this.afValue&&(!this.afValidation||this.afValidation===r.NEUTRAL)}}changeHandler(e){this.dirty||(this.afOnDirty.emit(e),this.dirty=!0),this.value=this.afValue=e.target.value,this.afOnChange.emit(e)}selectHandler(e){this.value=this.afValue=e.target.value,this.afOnSelect.emit(e)}focusHandler(e){this.afOnFocus.emit(e)}focusoutHandler(e){this.afOnFocusout.emit(e)}blurHandler(e){this.afOnBlur.emit(e)}getSelectedItem(e){return this.afValue==e.value}showValidation(){return!!(!this.afDisableValidation&&this.afValidation!==r.NEUTRAL&&this.afValidationText)}render(){return i("div",{class:Object.assign({"digi-form-select":!0},this.cssModifiers)},i("div",{class:"digi-form-select__label-group"},i("digi-form-label",{afFor:this.afId,afLabel:this.afLabel,afId:`${this.afId}-label`,afDescription:this.afDescription,afRequired:this.afRequired,afAnnounceIfOptional:this.afAnnounceIfOptional,afRequiredText:this.afRequiredText,afAnnounceIfOptionalText:this.afAnnounceIfOptionalText})),i("div",{class:"digi-form-select__select-wrapper"},i("select",{class:"digi-form-select__select",name:this.afName,id:this.afId,ref:e=>this._select=e,required:this.afRequired?this.afRequired:null,onFocus:e=>this.focusHandler(e),onFocusout:e=>this.focusoutHandler(e),onBlur:e=>this.blurHandler(e),onChange:e=>this.changeHandler(e),onInput:e=>this.selectHandler(e),autoFocus:this.afAutofocus?this.afAutofocus:null},this.hasPlaceholder&&i("option",{class:{"digi-form-select__select-option":!0,"digi-form-select__select-option--initial-value":!0},disabled:!0,selected:!this.afValue,value:""},this.afPlaceholder),this.optionItems.map((e,s)=>i("option",{key:s,class:"digi-form-select__select-option",value:e.value,selected:this.getSelectedItem(e)},e.text))),i("digi-icon",{class:"digi-form-select__icon",slot:"icon",afName:"input-select-marker"})),i("digi-util-mutation-observer",{hidden:!0,ref:e=>this._observer=e,onAfOnChange:()=>this.getOptions()},i("slot",null)),i("div",{class:"digi-form-select__footer"},i("div",{"aria-atomic":"true",role:"alert",id:`${this.afId}--validation-message`},this.showValidation()&&i("digi-form-validation-message",{"af-variation":this.afValidation},this.afValidationText))))}get hostElement(){return l(this)}static get watchers(){return{value:["onValueChanged"],afValue:["onAfValueChanged"]}}};f.style=n;export{f as digi_form_select};
